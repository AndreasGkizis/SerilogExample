{
	"ConnectionStrings": {
		"DockerLocalhostDB": "Server=localhost,1433;Database=SerilogExampleDB;User Id=sa;Password=SecretPa$$w0rd;MultipleActiveResultSets=true;TrustServerCertificate=True;",
		"LoggingDockerLocalhostDB": "Server=localhost,1433;Database=LoggingSerilogExampleDB;User Id=sa;Password=SecretPa$$w0rd;MultipleActiveResultSets=true;TrustServerCertificate=True;",
		"localhost": "Data Source=localhost;Initial Catalog=SerilogExampleDB;Integrated Security=true;MultipleActiveResultSets=true;TrustServerCertificate=True;",
		"localhostLogging": "Data Source=localhost;Initial Catalog=LoggingSerilogExampleDB;Integrated Security=true;MultipleActiveResultSets=true;TrustServerCertificate=True;"
	},
	"AllowedHosts": "*",

	"Serilog": {
		"MinimumLevel": {
			"Default": "Information",
			"Microsoft": "Warning"
		},
		"Using": [ "Serilog.Sinks.MSSqlServer", "Serilog.Sinks.Console", "Serilog.Sinks.Debug", "Serilog.Expressions"  ],
		"DatabaseConfig": {
			"ColumnOptions": {
				"addStandardColumns": ["LogEvent"],
				"removeStandardColumns": ["Properties"],
				"AdditionalColumns": [
					{
						"ColumnName": "SourceContext",
						"DataType": "nvarchar"
					},
					{
						"ColumnName": "Application",
						"DataType": "nvarchar"
					},
					{
						"ColumnName": "Environment",
						"DataType": "nvarchar"
					}
				],
				"timeStamp": {
					"columnName": "Timestamp",
					"convertToUtc": true
				}
			},
			"SinkOptionsSection": {
				"batchPostingLimit": 5,
				"batchPeriod": "00:00:15",
				"eagerlyEmitFirstEvent": true
			},
			"SchemaName": "dbo",
			"TableName": "Logs"
		},
		"WriteTo": [
			{
				"Name": "Console",
				"Args": {
					"outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{SourceContext}] [{Level:u3}] {Message:lj}{NewLine}{Exception}"
				}
			},
			{
				"Name": "Debug",
				"Args": {
					"outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{SourceContext}] [{Level:u3}] {Message:lj}{NewLine}{Exception}"
				}
			},
			{
				"Name": "File",
				"Args": {
					"restrictedToMinimumLevel": "Information",
					"outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{SourceContext}] [{Level:u3}] {Message:lj}{NewLine}{Exception}",
					"path": "Logs/log_.txt",
					"rollingInterval": "Day",
					"fileSizeLimitBytes": 10240,
					"rollOnFileSizeLimit": true,
					"retainedFileCountLimit": 30
				}
			},
      {
        "Name": "ErrorFileLogger",
				"Args": {
          "configureErrorFileLogger":{
            "Filter":[
                {
                  "Name": "ByIncludingOnly",
                  "Args": {
                    "expression": "@l = 'Error'"
                  }
                }
            ],
            "WriteTo": [
              {
              "Name": "File",
              "Args": {
                "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{SourceContext}] [{Level:u3}] {Message:lj}{NewLine}{Exception}",
                "path": "Logs/Errorlog_.txt"
              }
            }
            ]
          }
      }
		}
    ],
    
		"Formatter": "Serilog.Formatting.Json.JsonFormatter",
		"Enrich": [
			"FromLogContext",
			"WithMachineName",
			"WithExceptionDetails",
			{
				"Name": "WithPropertyEnricher",
				"Args": {
					"propertyKey": "Application",
					"propertyValue": "SerilogExample"
				}
			}
		]
	}
}
